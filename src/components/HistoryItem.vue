<template>
  <div class="history-item">
    <span class="email">{{ historyItem.email }}</span>
    <a
      href="javascript:void(0);"
      class="btn"
      v-clipboard:copy="historyItem.email"
      v-clipboard:success="onCopy"
    >
      <svg
        xmlns:x="http://ns.adobe.com/Extensibility/1.0/"
        xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/"
        xmlns:graph="http://ns.adobe.com/Graphs/1.0/"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        version="1.1"
        x="0px"
        y="0px"
        viewBox="0 0 100 100"
        style="enable-background:new 0 0 100 100;"
        xml:space="preserve"
      >
        <switch>
          <foreignObject
            requiredExtensions="http://ns.adobe.com/AdobeIllustrator/10.0/"
            x="0"
            y="0"
            width="1"
            height="1"
          />
          <g i:extraneous="self">
            <g>
              <path
                d="M93.4,2.5H24.9c-2.3,0-4.1,1.8-4.1,4.1v68.5c0,2.3,1.8,4.1,4.1,4.1h68.5c2.3,0,4.1-1.8,4.1-4.1V6.6     C97.5,4.3,95.7,2.5,93.4,2.5z M89.3,71H29V10.7h60.3V71z"
              />
              <path
                d="M75.1,89.3H10.7V24.9c0-2.3-1.8-4.1-4.1-4.1s-4.1,1.8-4.1,4.1v68.5c0,2.3,1.8,4.1,4.1,4.1h68.5c2.3,0,4.1-1.8,4.1-4.1     S77.4,89.3,75.1,89.3z"
              />
            </g>
          </g>
        </switch>
      </svg>
    </a>
    <a
      :href="inboxUrl"
      class="btn"
      target="_blank"
      rel="noopener noreferrer"
      v-on:click="onInboxClick"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 32 32"
        version="1.1"
        xml:space="preserve"
        style
        x="0px"
        y="0px"
        fill-rule="evenodd"
        clip-rule="evenodd"
        stroke-linejoin="round"
        stroke-miterlimit="1.41421"
      >
        <g transform="matrix(1,0,0,1,-159,-45)">
          <g transform="matrix(1,0,0,1,159,45)">
            <rect x="0" y="0" width="32" height="32" style fill="none" />
            <g transform="matrix(1,0,0,1,-159,-45)">
              <path
                d="M160.716,50.041C160.775,50.024 160.836,50.012 160.898,50.005C160.932,50.002 160.966,50.002 161,50L189,50C189.034,50.002 189.068,50.003 189.102,50.005L189.109,50.006C189.141,50.011 189.172,50.014 189.203,50.021C189.265,50.034 189.325,50.052 189.382,50.076L189.407,50.086L189.431,50.097L189.454,50.109L189.468,50.116L189.481,50.123C189.514,50.141 189.546,50.161 189.577,50.183C189.638,50.226 189.693,50.276 189.742,50.33L189.752,50.342C189.841,50.443 189.909,50.562 189.951,50.691C189.966,50.738 189.977,50.785 189.984,50.832C189.993,50.88 189.998,50.93 189.999,50.979L190,51L190,71L190,71.001C190,71.011 190,71.021 190,71.031C189.997,71.119 189.982,71.206 189.957,71.289L189.957,71.29L189.957,71.291L189.953,71.302L189.952,71.306L189.951,71.309L189.948,71.317L189.947,71.32L189.947,71.322C189.945,71.327 189.943,71.332 189.941,71.337L189.941,71.339C189.909,71.426 189.866,71.508 189.812,71.582L189.811,71.584L189.81,71.585L189.808,71.588L189.805,71.592L189.802,71.596L189.8,71.599L189.799,71.601L189.797,71.603L189.793,71.607L189.79,71.612L189.789,71.613L189.789,71.614C189.667,71.77 189.5,71.889 189.309,71.951C189.301,71.954 189.294,71.956 189.286,71.958C189.264,71.965 189.241,71.971 189.218,71.976C189.147,71.992 189.074,72 189.001,72L189,72L161,72L161,72C160.947,72 160.895,71.996 160.844,71.988C160.805,71.982 160.767,71.973 160.73,71.963C160.717,71.959 160.704,71.955 160.691,71.951C160.532,71.899 160.389,71.807 160.275,71.687C160.195,71.603 160.129,71.505 160.082,71.397C160.076,71.383 160.07,71.369 160.065,71.354L160.064,71.351L160.062,71.347L160.06,71.342L160.06,71.34C160.056,71.33 160.052,71.319 160.049,71.309L160.048,71.307L160.048,71.305L160.043,71.291L160.043,71.29L160.043,71.29C160.024,71.226 160.011,71.16 160.004,71.094C160.001,71.063 160,71.032 160,71.001L160,71L160,51L160,50.999C160,50.988 160,50.977 160.001,50.966C160.003,50.894 160.013,50.824 160.031,50.755C160.036,50.734 160.042,50.713 160.049,50.691C160.091,50.561 160.16,50.442 160.249,50.341L160.25,50.34L160.251,50.339L160.253,50.336L160.255,50.334C160.327,50.253 160.413,50.183 160.51,50.128C160.542,50.11 160.575,50.094 160.608,50.08L160.621,50.075L160.622,50.074L160.625,50.073L160.629,50.072C160.649,50.063 160.67,50.056 160.691,50.049L160.697,50.047L160.698,50.047L160.698,50.047L160.71,50.043L160.716,50.041ZM178.991,62.408C178.44,62.895 177.811,63.283 177.121,63.543C176.355,63.832 175.53,63.961 174.712,63.922C173.94,63.885 173.176,63.698 172.474,63.373C171.947,63.128 171.462,62.807 171.028,62.424C168.557,65.009 165.979,67.49 163.429,70L186.512,70C183.964,67.512 181.5,64.937 178.991,62.408ZM188,53.423C185.491,55.955 182.998,58.505 180.451,60.998C183.027,63.461 185.499,66.03 188,68.571L188,53.423ZM169.584,60.999L162,53.414L162,68.512C164.485,65.966 167.058,63.505 169.584,60.999ZM178.293,60.293L186.586,52L163.414,52C166.14,54.726 168.819,57.499 171.581,60.186C171.662,60.244 171.733,60.313 171.792,60.391C171.943,60.538 172.094,60.684 172.246,60.83C172.308,60.888 172.372,60.945 172.437,61C172.807,61.306 173.223,61.546 173.676,61.705C174.667,62.051 175.781,61.991 176.729,61.538C177.139,61.341 177.508,61.074 177.831,60.755L178.293,60.293L178.293,60.293L178.293,60.293Z"
              />
            </g>
          </g>
        </g>
      </svg>
    </a>
    <a href="javascript:void(0);" class="btn" @click="$emit('del-history-item', historyItem.email)">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        data-name="Layer 1"
        viewBox="0 0 100 100"
        x="0px"
        y="0px"
      >
        <path
          d="M6,34a8,8,0,0,0,8,8V82A16,16,0,0,0,30,98H70A16,16,0,0,0,86,82V42a8,8,0,0,0,8-8V26a8,8,0,0,0-8-8H70V10a8,8,0,0,0-8-8H38a8,8,0,0,0-8,8v8H14a8,8,0,0,0-8,8ZM78,82a8,8,0,0,1-8,8H30a8,8,0,0,1-8-8V42H78ZM38,10H62v8H38ZM14,26H86v8H14Z"
        />
        <path d="M34,82a4,4,0,0,0,4-4V54a4,4,0,0,0-8,0V78A4,4,0,0,0,34,82Z" />
        <path d="M50,82a4,4,0,0,0,4-4V54a4,4,0,0,0-8,0V78A4,4,0,0,0,50,82Z" />
        <path d="M66,82a4,4,0,0,0,4-4V54a4,4,0,0,0-8,0V78A4,4,0,0,0,66,82Z" />
      </svg>
    </a>
  </div>
</template>

<script>
import throwaway from "../throwaway";
export default {
  name: "HistoryItem",
  props: ["historyItem"],
  created() {
    let prefix = this.historyItem.email.split("@")[0];
    this.inboxUrl = throwaway.getInboxUrl(prefix, this.historyItem.service);
  },
  methods: {
    onCopy() {},
    onInboxClick() {}
  }
};
</script>

<style scoped>
.history-item {
  display: grid;
  grid-template-columns: auto 60px 60px 60px;
  background: #f4f4f4;
  align-items: center;
  max-width: 764px;
  width: 100%;
}
span.email {
  font-family: "Ubuntu Mono", monospace;
}
svg {
  height: 25px;
  cursor: pointer;
  fill: #fff;
}
</style>
